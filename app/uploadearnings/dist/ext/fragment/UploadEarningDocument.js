sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onEarningFileUploadChange:async function(t){const n=t.getSource();const s=t.getParameter("files")[0];const o=this.getEditFlow().getView();const r=o.getModel();const a=o.getBindingContext();if(!s||!a)return;const i=new FileReader;const c=new Promise((e,t)=>{i.onload=function(t){const n=t.currentTarget.result;e(n)};i.onerror=function(e){t(e)}});i.readAsDataURL(s);const l=await c;const u=l.split("base64,")[1];try{const t="/odata/v4/earning-upload-srv/EarningFiles(ID=<ID>,IsActiveEntity=true)/content";a.setProperty("mediaType",s.type);a.setProperty("fileName",s.name);a.setProperty("content",u);a.setProperty("url",t.replace("<ID>",a.getProperty("ID")));e.show("File uploaded successfully")}catch(e){sap.m.MessageBox.error("Upload failed: "+e.message)}}}});
//# sourceMappingURL=UploadEarningDocument.js.map